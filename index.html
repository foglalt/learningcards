<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Learning Cards</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="app-title">Learning Cards</div>
    <button id="btnHome" class="btn btn-ghost" type="button" aria-label="Vissza a kezdőképernyőre" hidden>Kezdőlap</button>
  </header>

  <main class="app" id="app">
    <section id="screenStart" class="screen" aria-label="Kezdőképernyő">
      <h1 class="h1">Gyakorlás</h1>
      <p class="muted">Válaszd ki, mit szeretnél gyakorolni, majd indulhat a kártyázás.</p>

      <div class="stats panel" aria-label="Kérdések száma">
        <div class="stats-title">Kérdések száma</div>
        <div class="stats-grid">
          <div class="stat">
            <div class="stat-k">Beugró</div>
            <div id="countBeugro" class="stat-v">–</div>
          </div>
          <div class="stat">
            <div class="stat-k">Tételek</div>
            <div id="countTetelek" class="stat-v">–</div>
          </div>
          <div class="stat">
            <div class="stat-k">Összes</div>
            <div id="countTotal" class="stat-v">–</div>
          </div>
        </div>
        <p class="muted small" id="deckStatsError" role="status" aria-live="polite"></p>
      </div>

      <div class="card panel">
        <div class="field">
          <div class="label">Kérdéssor</div>
          <label class="radio">
            <input type="radio" name="deck" value="beugro" checked />
            <span>Beugró kérdések</span>
          </label>
          <label class="radio">
            <input type="radio" name="deck" value="tetelek" />
            <span>Tétel kérdések</span>
          </label>
        </div>

        <div class="field">
          <div class="label">Kategória (tudásszint)</div>
          <label class="radio">
            <input type="radio" name="knowledgeFilter" value="all" checked />
            <span>Minden</span>
          </label>
          <label class="radio">
            <input type="radio" name="knowledgeFilter" value="0" />
            <span>Nem tudtam</span>
          </label>
          <label class="radio">
            <input type="radio" name="knowledgeFilter" value="1" />
            <span>Részben</span>
          </label>
          <label class="radio">
            <input type="radio" name="knowledgeFilter" value="2" />
            <span>Tudtam</span>
          </label>
        </div>

        <div class="mini-stats" aria-label="Haladás a tudásszintek szerint">
          <div class="label">Haladás (kiválasztott kérdéssor)</div>
          <div class="stats-grid">
            <div class="stat">
              <div class="stat-k">Nem tudtam</div>
              <div id="countNoClue" class="stat-v">–</div>
            </div>
            <div class="stat">
              <div class="stat-k">Részben</div>
              <div id="countPartial" class="stat-v">–</div>
            </div>
            <div class="stat">
              <div class="stat-k">Tudtam</div>
              <div id="countKnown" class="stat-v">–</div>
            </div>
          </div>
          <p class="muted small" id="progressStatsError" role="status" aria-live="polite"></p>
        </div>

        <div class="row">
          <button id="btnContinue" class="btn" type="button" hidden>Folytatás</button>
          <button id="btnStart" class="btn btn-primary" type="button">Indítás</button>
          <button id="btnReset" class="btn" type="button">Haladás törlése</button>
        </div>

        <p class="muted small" id="startError" role="status" aria-live="polite"></p>
      </div>

      <details class="help">
        <summary>Ha nem tölt be a kérdéssor…</summary>
        <p class="muted">
          Ha közvetlenül fájlként nyitod meg az oldalt, a böngésző néha blokkolhatja a JSON betöltését.
          Ilyenkor indíts egy egyszerű helyi szervert, majd azon keresztül nyisd meg:
        </p>
        <pre class="code">cd learningcards
python -m http.server 5173</pre>
        <p class="muted">Ezután: <span class="code-inline">http://localhost:5173</span></p>
      </details>
    </section>

    <section id="screenStudy" class="screen hidden" aria-label="Kártyázás">
      <div class="topline">
        <div id="deckLabel" class="pill">–</div>
        <div id="cardLabel" class="muted small" aria-live="polite">–</div>
      </div>

      <div class="pillrow" aria-label="Tudásszint szűrő" aria-live="polite">
        <button id="studyFilterAll" class="pill pill-secondary pill-btn is-active" type="button" aria-pressed="true">Minden</button>
        <button id="studyCountNoClue" class="pill pill-secondary pill-btn" type="button" aria-pressed="false">Nem tudtam: –</button>
        <button id="studyCountPartial" class="pill pill-secondary pill-btn" type="button" aria-pressed="false">Részben: –</button>
        <button id="studyCountKnown" class="pill pill-secondary pill-btn" type="button" aria-pressed="false">Tudtam: –</button>
      </div>

      <article id="flashcard" class="flashcard" tabindex="0" role="button" aria-label="Kártya megfordítása">
        <div class="flashcard-inner" id="flashcardInner">
          <div class="face face-front">
            <div class="face-title">Kérdés</div>
            <div id="questionText" class="face-content"></div>
            <div class="face-footer muted small">Érintsd meg a kártyát a fordításhoz</div>
          </div>
          <div class="face face-back">
            <div class="face-title">Válasz</div>
            <div id="answerText" class="face-content"></div>
            <div id="sourceText" class="source muted small"></div>
          </div>
        </div>
      </article>

      <div class="rating" id="ratingRow" aria-label="Értékelés" hidden>
        <div class="muted small">Mennyire tudtad?</div>
        <div class="row">
          <button id="btnRate0" class="btn" type="button">Nem tudtam</button>
          <button id="btnRate1" class="btn" type="button">Részben</button>
          <button id="btnRate2" class="btn btn-primary" type="button">Tudtam</button>
        </div>
      </div>

      <p class="muted small" id="studyError" role="status" aria-live="polite"></p>
    </section>
  </main>

  <script src="./app.js" type="module"></script>
</body>
</html>
